FROM elasticsearch:2.1.0

ENV CLUSTERNAME srylog
ENV HOSTNAME localhost
ENV NODES 127.0.0.1:9300
ENV HTTPPORT 9200
ENV TRANSPORT 9300

WORKDIR /usr/share/elasticsearch

RUN /usr/share/elasticsearch/bin/plugin install mobz/elasticsearch-head
COPY config ./config
COPY ik ./plugins/ik

VOLUME /usr/share/elasticsearch/data

COPY docker-entrypoint.sh /

EXPOSE 9200 9300
ENTRYPOINT ["/docker-entrypoint.sh"]
CMD ["elasticsearch"]
